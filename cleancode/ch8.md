# 8장 경계

개발 진행 과정 중 오픈 소스 및 타 팀 컴포넌트를 이용하는 경우가 빈번
-> 이를 경계지어 깔끔하게 처리하는 기법과 기교를 정의

### 외부 코드 사용하기

프레임워크 제공자 - 적용성을 넓히는 것을 선호
사용자 -> 자신의 요구에 집중하는 인터페이스

Map 인터페이스의 경우 객체의 유형을 제한하지 않음 -> 따라서 아래와 같은 코드가 반복하여 출몰
```
Map sensors = new HashMap();

Sensor s = (Sensor)sensor.get(sersorId);
```

위의 코드는 깨끗한 코드라 보기 어렵고, 사용자에게 필요한 Map 메소드 이외에 다른 것들도 너무 많이 제공

따라서 아래와 같은 방법으로 Map을 Sensors 안으로 숨겨서 Map과 같은 인터페이스를 여기저기 넘기지 않도록 하자

```
public class Sensors {
    private Map sensors = new HashMap();

    public Sensor getById(String id) {
        return (Sensor) sensors.get(id);
    }
}
```

### 경계 살피고 익히기

테스트 코드를 작성해서 외부 코드에 대해 학습하는 것 -> 학습 테스트
문서를 통해서 익히는 것은 어렵기 때문에

### log4j 익히기

logger를 통해서독자적인 로거 클래스로 캡슐화 하면 사용 가능ㄴ

### 학습 테스트는 공짜 이상이다

학습 테스트를 통해서 패키지가 예상대로 도는 지 검증
새 버전이 나온다고 하더라고 해도, 호환 여부를 학습 테스트를 통해서 밝혀낸다

### 아직 존재하지 않은 코드를 참여하기

- 아직 나오지 않은 코드와 통신하기 위함
- 인터페이스를 하위 컴포넌트를 구체화 하는 클래스에 Adatper를 생성하여 API화 한 클래스를 생성
- FakeTransmitter 클래스를 사용하여 Controller 클래스로 테스트

### 깨끗한 경계

- 통제하지 못한 코드를 사용할 떄는 주의해야 함
- 코드에 대해 모두 다 알 필요 X -> 통제 가능한 코드로 제어
