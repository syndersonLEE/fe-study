# 3장 서비스 모델링 하기

## 3.2 무엇이 좋은 서비스를 만드는가?

- 두 가지 중요한 개념
    1. 느슨한 결합
    2. 강한 응집력

### 3.2.1 느슨한 결합

- 강한 결합을 발생시키는 요인
    - 서비스를 서로 강하게 엮어버는 통합 방식
    - 서비스의 내부 변경 -> 소비자 변경
    - 협업하는 서비스에 관계 없이 수정 필요

### 3.2.2 강한 응집력

- 서로 연관된 행위는 모아두고 아닌 것은 분리하는 원칙
 - 변경을 할 때 한 곳에서만 바꾸고 배포하기 위해

 ## 3.3 경계가 있는 콘텍스트

- 경계가 있는 모든 context는 interface를 통해 공유 context를 결정
    - 도메인은 경계가 있는 context로 구성되어 있음

### 3.3.1 감춰진 공유 모델

- 각 도메인이 있을 경우 각 도메인 간의 세부업무에 대해서 정확히 알 필요는 없지만 공유해야하는 모델이 존재

- 이를 분리하면 내부 전용 표현과 외부 표현으로 나눌 수 있음

### 3.3.2 모듈과 서비스

- 관련 코드를 모으고 시스템 내의 다른 모듈과의 결합도를 낮추기 위해서 모듈을 사용
- 모듈의 경계 -> 마이크로서비스로 구현
- 기술력에 따라 다르지만, 초기 모델은 모놀리식이 좋음
    - 이를 통한 안정화를 기다리는 것이 현명

### 3.3.3 성급한 분해

- 시스템에 대한 이해 없이 성급한 MSA 분해 -> 안정적으로 경계 분해에 실패
- 기존 코드베이스를 기초로 마이크로서비스로 가는 것보다 쉬움

## 3.4 비즈니스 능력

- 데이터에 대한 생각이 빈약한 회사이며, 조직 간의 경계가 명확한 경우에는 공유 모델을 사용하지 않는 것을 권장 
- 어떤 데이터가 필요한지 필요한지 여부를 통해 제공해주는 것이 나음

## 3.5 거북이 밑에 거북이

- MSA를 고려할 때 큰 관점에서 생각한뒤 세부 context를 통해 세분화 하는 것이 좋음

- 계층 Context를 통해 팀의 업무를 분리할 수 있음

- 계층으로 만들 경우 테스팅을 부분적으로 나눌 수 있음

## 3.6 비즈니스 콘셉트 관점에서의 커뮤니케이션

- 도메인을 대표하는 경계를 분리 원칙으로 삼으면 변경 사항을 줄이고 신속한 배포 가능

## 3.7 기술적 경계

- 서비스를 기술적 접합부에 따라서 팀을 나누는 것은 2차 목표가 되어야 한다.
- 수평으로 나눌 경우에는 지속적인 변경에 의한 서비스 인터페이스 호출이 많아 성능 문제를 야기한다.










